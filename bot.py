import os
import random
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import (
    Application,
    CommandHandler,
    CallbackQueryHandler,
    ContextTypes,
)

# ================= –ù–ê–°–¢–†–û–ô–ö–ò =================

TOKEN = os.getenv("BOT_TOKEN")

STORES = {
    "balaklavskaya": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –ë–∞–ª–∞–∫–ª–∞–≤—Å–∫–∞—è",
        "url": "https://yandex.ru/maps/org/185401650209/reviews",
        "reviews": [
            "–û—Ç–ª–∏—á–Ω–∞—è –ü–ò–ù–¢–ê –Ω–∞ –ë–∞–ª–∞–∫–ª–∞–≤—Å–∫–æ–π, –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ –ø–∏–≤–æ –∏ –ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª.",
            "–•–æ—Ä–æ—à–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∏ –±—ã—Å—Ç—Ä–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é.",
            "–ß–∏—Å—Ç–æ, —É—é—Ç–Ω–æ, –ø—Ä–∏—è—Ç–Ω–æ –∑–∞—Ö–æ–¥–∏—Ç—å.",
            "–û—á–µ–Ω—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã, –≤—Å–µ–≥–¥–∞ –ø–æ–¥—Å–∫–∞–∂—É—Ç –ø–æ –≤—ã–±–æ—Ä—É.",
            "–ü–∏–≤–æ –≤—Å–µ–≥–¥–∞ —Ö–æ–ª–æ–¥–Ω–æ–µ –∏ —Å–≤–µ–∂–µ–µ ‚Äî —ç—Ç–æ —Ä–∞–¥—É–µ—Ç.",
            "–ó–∞—Ö–æ–∂—É —Å—é–¥–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –∫–∞—á–µ—Å—Ç–≤–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–Ω–æ–µ.",
            "–•–æ—Ä–æ—à–∏–µ —Ü–µ–Ω—ã –∏ –±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–æ–≤.",
            "–û–¥–Ω–æ –∏–∑ –ª—É—á—à–∏—Ö –º–µ—Å—Ç –≤ —Ä–∞–π–æ–Ω–µ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –ø–∏–≤–∞."
        ]
    },
    "kovylnaya": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –ö–æ–≤—ã–ª—å–Ω–∞—è",
        "url": "https://yandex.ru/maps/org/1758194105/reviews",
        "reviews": [
            "–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –Ω–∞ –ö–æ–≤—ã–ª—å–Ω–æ–π, —Ö–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–æ–≤.",
            "–ü–µ—Ä—Å–æ–Ω–∞–ª –≤–µ–∂–ª–∏–≤—ã–π, –ø–∏–≤–æ –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ.",
            "–ü—Ä–∏—è—Ç–Ω–æ–µ –º–µ—Å—Ç–æ, –∑–∞—Ö–æ–∂—É —Ä–µ–≥—É–ª—è—Ä–Ω–æ.",
            "–í—Å–µ–≥–¥–∞ —á–∏—Å—Ç–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –ø—Ä–∏—è—Ç–Ω–æ –∑–∞—Ö–æ–¥–∏—Ç—å.",
            "–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –∫—Ä–∞—Ñ—Ç–æ–≤–æ–≥–æ –ø–∏–≤–∞.",
            "–ü—Ä–æ–¥–∞–≤—Ü—ã —Ä–∞–∑–±–∏—Ä–∞—é—Ç—Å—è –≤ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–µ.",
            "–•–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω—ã –∏ –∫–∞—á–µ—Å—Ç–≤–∞.",
            "–†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ–º –ª—é–±–∏—Ç–µ–ª—è–º —Ö–æ—Ä–æ—à–µ–≥–æ –ø–∏–≤–∞."
        ]
    },
    "gagarina": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –ì–∞–≥–∞—Ä–∏–Ω–∞",
        "url": "https://yandex.ru/maps/org/8944351076/reviews",
        "reviews": [
            "–•–æ—Ä–æ—à–∞—è –ü–ò–ù–¢–ê –Ω–∞ –ì–∞–≥–∞—Ä–∏–Ω–∞, —É–¥–æ–±–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ.",
            "–ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä, –≤—Å—ë –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ —á–∏—Å—Ç–æ.",
            "–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ.",
            "–í—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–∂—É –∑–¥–µ—Å—å –ª—é–±–∏–º—ã–µ —Å–æ—Ä—Ç–∞.",
            "–ü—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ –≤–µ–∂–ª–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª.",
            "–ü–∏–≤–æ –æ—Ç–ª–∏—á–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞.",
            "–ó–∞—Ö–æ–∂—É –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã ‚Äî –≤—Å–µ–≥–¥–∞ –¥–æ–≤–æ–ª–µ–Ω.",
            "–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é."
        ]
    },
    "kievskaya": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –ö–∏–µ–≤—Å–∫–∞—è",
        "url": "https://yandex.ru/maps/org/120734842694/reviews",
        "reviews": [
            "–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –Ω–∞ –ö–∏–µ–≤—Å–∫–æ–π, –ø—Ä–∏—è—Ç–Ω–æ –∑–∞—Ö–æ–¥–∏—Ç—å.",
            "–í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ –ø–∏–≤–æ –∏ —Ö–æ—Ä–æ—à–∏–π —Å–µ—Ä–≤–∏—Å.",
            "–†–µ–∫–æ–º–µ–Ω–¥—É—é —ç—Ç—É —Ç–æ—á–∫—É.",
            "–ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–æ–≤ –Ω–∞ –ª—é–±–æ–π –≤–∫—É—Å.",
            "–ü—Ä–∏—è—Ç–Ω—ã–µ –∏ –≤–µ–∂–ª–∏–≤—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã.",
            "–ß–∏—Å—Ç–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –≤ –º–∞–≥–∞–∑–∏–Ω–µ.",
            "–•–æ—Ä–æ—à–∏–µ —Ü–µ–Ω—ã –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ.",
            "–û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∑–∞–π–¥—É –µ—â—ë."
        ]
    },
    "leksina": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –õ–µ–∫—Å–∏–Ω–∞",
        "url": "https://yandex.ru/maps/org/122035033634/reviews",
        "reviews": [
            "–£–¥–æ–±–Ω–∞—è –ü–ò–ù–¢–ê —Ä—è–¥–æ–º —Å –¥–æ–º–æ–º, –≤—Å—ë –Ω—Ä–∞–≤–∏—Ç—Å—è.",
            "–•–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä –∏ –≤–µ–∂–ª–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª.",
            "–ß–∞—Å—Ç–æ –∑–∞—Ö–æ–∂—É, –≤—Å–µ–≥–¥–∞ –¥–æ–≤–æ–ª–µ–Ω.",
            "–í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ –ø–∏–≤–æ.",
            "–ü—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ.",
            "–ü—Ä–æ–¥–∞–≤—Ü—ã –≤—Å–µ–≥–¥–∞ –ø–æ–º–æ–≥—É—Ç —Å –≤—ã–±–æ—Ä–æ–º.",
            "–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –¥–ª—è —Å–≤–æ–µ–≥–æ —Ä–∞–π–æ–Ω–∞.",
            "–†–µ–∫–æ–º–µ–Ω–¥—É—é –∑–Ω–∞–∫–æ–º—ã–º."
        ]
    },
    "danilova": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –î–∞–Ω–∏–ª–æ–≤–∞",
        "url": "https://yandex.ru/maps/org/62339723889/reviews",
        "reviews": [
            "–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –Ω–∞ –î–∞–Ω–∏–ª–æ–≤–∞, –ø—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞.",
            "–í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ –ø–∏–≤–æ –∏ –±—ã—Å—Ç—Ä–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.",
            "–•–æ—Ä–æ—à–µ–µ –º–µ—Å—Ç–æ.",
            "–ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–æ–≤.",
            "–û—á–µ–Ω—å –≤–µ–∂–ª–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª.",
            "–ß–∏—Å—Ç–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ.",
            "–ö–∞—á–µ—Å—Ç–≤–æ –ø–∏–≤–∞ –Ω–∞ –≤—ã—Å–æ—Ç–µ.",
            "–ó–∞—Ö–æ–∂—É —Å—é–¥–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ."
        ]
    },
    "vorovskogo": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ",
        "url": "https://yandex.ru/maps/org/37463525230/reviews",
        "reviews": [
            "–•–æ—Ä–æ—à–∞—è –ü–ò–ù–¢–ê –Ω–∞ –í–æ—Ä–æ–≤—Å–∫–æ–≥–æ, –≤—Å—ë —Å—Ç–∞–±–∏–ª—å–Ω–æ.",
            "–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç —Ä–∞–¥—É–µ—Ç, –ø–µ—Ä—Å–æ–Ω–∞–ª –≤–µ–∂–ª–∏–≤—ã–π.",
            "–ó–∞—Ö–æ–∂—É —Ä–µ–≥—É–ª—è—Ä–Ω–æ.",
            "–ü–∏–≤–æ –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ.",
            "–•–æ—Ä–æ—à–∏–µ —Ü–µ–Ω—ã.",
            "–ü—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞.",
            "–£–¥–æ–±–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ.",
            "–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω."
        ]
    },
    "polevaya": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –ü–æ–ª–µ–≤–∞—è",
        "url": "https://yandex.ru/maps/org/135730373576/reviews",
        "reviews": [
            "–û—Ç–ª–∏—á–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞ –ü–æ–ª–µ–≤–æ–π, —á–∏—Å—Ç–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ.",
            "–ü—Ä–∏—è—Ç–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã –∏ —Ö–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä.",
            "–†–µ–∫–æ–º–µ–Ω–¥—É—é.",
            "–ü–∏–≤–æ –≤—Å–µ–≥–¥–∞ —Ö–æ–ª–æ–¥–Ω–æ–µ.",
            "–•–æ—Ä–æ—à–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç.",
            "–£—é—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω.",
            "–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏.",
            "–ß–∞—Å—Ç–æ –∑–¥–µ—Å—å –ø–æ–∫—É–ø–∞—é."
        ]
    },
    "molodezhnoe": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –ú–æ–ª–æ–¥—ë–∂–Ω–æ–µ",
        "url": "https://yandex.ru/maps/org/156996414030/reviews",
        "reviews": [
            "–•–æ—Ä–æ—à–∏–π –º–∞–≥–∞–∑–∏–Ω –≤ –ú–æ–ª–æ–¥—ë–∂–Ω–æ–º, —É–¥–æ–±–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω.",
            "–í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ –ø–∏–≤–æ –∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã.",
            "–ü—Ä–∏—è—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.",
            "–ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä.",
            "–•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞–ø–∏—Ç–∫–æ–≤.",
            "–ü—Ä–æ–¥–∞–≤—Ü—ã –≤–µ–∂–ª–∏–≤—ã–µ.",
            "–ó–∞—Ö–æ–∂—É —á–∞—Å—Ç–æ.",
            "–†–µ–∫–æ–º–µ–Ω–¥—É—é."
        ]
    },
    "trubochenko": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî –¢—Ä—É–±–æ—á–µ–Ω–∫–æ",
        "url": "https://yandex.ru/maps/org/88086573918/reviews",
        "reviews": [
            "–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –Ω–∞ –¢—Ä—É–±–æ—á–µ–Ω–∫–æ, –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–µ–µ –ø–∏–≤–æ –∏ –ø—Ä–∏—è—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.",
            "–•–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–æ–≤, —á–∞—Å—Ç–æ –∑–∞—Ö–æ–∂—É –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç—É –ü–ò–ù–¢–£.",
            "–£—é—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω, –ø–µ—Ä—Å–æ–Ω–∞–ª –≤–µ–∂–ª–∏–≤—ã–π, –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç —Ä–∞–¥—É–µ—Ç.",
            "–ü–∏–≤–æ –æ—Ç–ª–∏—á–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞.",
            "–ü—Ä–∏—è—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞.",
            "–í—Å–µ–≥–¥–∞ –ø–æ–¥—Å–∫–∞–∂—É—Ç —Å –≤—ã–±–æ—Ä–æ–º.",
            "–•–æ—Ä–æ—à–∏–µ —Ü–µ–Ω—ã.",
            "–û–¥–∏–Ω –∏–∑ –ª—É—á—à–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ –ü–ò–ù–¢–ê."
        ]
    },
    "konnoi": {
        "title": "üç∫ –ü–ò–ù–¢–ê ‚Äî 1-–π –ö–æ–Ω–Ω–æ–π –∞—Ä–º–∏–∏",
        "url": "https://yandex.ru/maps/org/22400636893/reviews",
        "reviews": [
            "–û—Ç–ª–∏—á–Ω–∞—è –ü–ò–ù–¢–ê –Ω–∞ 1-–π –ö–æ–Ω–Ω–æ–π –∞—Ä–º–∏–∏, –≤—Å–µ–≥–¥–∞ –≤—Å—ë —Å–≤–µ–∂–µ–µ.",
            "–•–æ—Ä–æ—à–µ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ –±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –ø–∏–≤–∞.",
            "–ü—Ä–∏—è—Ç–Ω–æ–µ –º–µ—Å—Ç–æ, –∑–∞—Ö–æ–∂—É —Ä–µ–≥—É–ª—è—Ä–Ω–æ.",
            "–û—Ç–ª–∏—á–Ω—ã–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç.",
            "–í–µ–∂–ª–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª.",
            "–ß–∏—Å—Ç—ã–π –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω.",
            "–ü–∏–≤–æ –æ—Ç–ª–∏—á–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞.",
            "–†–µ–∫–æ–º–µ–Ω–¥—É—é —ç—Ç—É —Ç–æ—á–∫—É."
        ]
    }
}

# ================= –ö–õ–ê–í–ò–ê–¢–£–†–´ =================

def stores_keyboard():
    return InlineKeyboardMarkup([
        [InlineKeyboardButton(store["title"], callback_data=f"store:{key}")]
        for key, store in STORES.items()
    ])

def review_keyboard(store):
    return InlineKeyboardMarkup([
        [InlineKeyboardButton("üìç –û—Ç–∫—Ä—ã—Ç—å –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã", url=store["url"])],
        [InlineKeyboardButton("üîÑ –î—Ä—É–≥–æ–π –æ—Ç–∑—ã–≤", callback_data="new_review")],
        [InlineKeyboardButton("üè™ –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –º–∞–≥–∞–∑–∏–Ω", callback_data="back_to_stores")]
    ])

# ================= –õ–û–ì–ò–ö–ê =================

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "–í—ã–±–µ—Ä–∏ –º–∞–≥–∞–∑–∏–Ω –ü–ò–ù–¢–ê üëá",
        reply_markup=stores_keyboard()
    )

async def choose_store(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()
    context.user_data["store"] = query.data.split(":")[1]
    await send_review(query, context)

async def send_review(update, context):
    store = STORES[context.user_data["store"]]
    review = random.choice(store["reviews"])

    await update.edit_message_text(
        f"{store['title']}\n\n"
        "–°–∫–æ–ø–∏—Ä—É–π –æ—Ç–∑—ã–≤ –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º üëá\n\n"
        f"```\n{review}\n```",
        reply_markup=review_keyboard(store),
        parse_mode="Markdown"
    )

async def new_review(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.callback_query.answer()
    await send_review(update.callback_query, context)

async def back_to_stores(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.callback_query.answer()
    await update.callback_query.edit_message_text(
        "–í—ã–±–µ—Ä–∏ –º–∞–≥–∞–∑–∏–Ω –ü–ò–ù–¢–ê üëá",
        reply_markup=stores_keyboard()
    )

# ================= –ó–ê–ü–£–°–ö =================

def main():
    app = Application.builder().token(TOKEN).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(choose_store, pattern="^store:"))
    app.add_handler(CallbackQueryHandler(new_review, pattern="new_review"))
    app.add_handler(CallbackQueryHandler(back_to_stores, pattern="back_to_stores"))
    app.run_polling()

if __name__ == "__main__":
    main()